import{P as e}from"./PpcpStore-BczVk-qc.min.js";var t=async()=>{const t=await window.bluefinchCheckout.helpers.loadFromCheckout(["stores.useCustomerStore"]),{ppcpConfig:s}=e();return`${t.customer.tokenType===window.bluefinchCheckout.helpers.getTokenTypes.guestUser?s.createGuestOrderUrl:s.createOrderUrl}`},s=async(e,s=null,r=0,o="")=>{const[a,u,c]=await window.bluefinchCheckout.helpers.loadFromCheckout(["stores.usePaymentStore","stores.useCustomerStore","stores.useCartStore"]),n={"X-Requested-With":"XMLHttpRequest"},{maskedId:i,getMaskedId:h}=c;let l,d;if(u.customer.tokenType===window.bluefinchCheckout.helpers.getTokenTypes.guestUser)l=i||await h();else{l=(await window.bluefinchCheckout.services.getQuote()).id}d=null!==s&&0!==r?`${await t()}?vault=${s}&fromCheckout=${r}`:""!==o&&0!==r?`${await t()}?public_hash=${o}&fromCheckout=${r}`:await t();try{return(await window.bluefinchCheckout.services.authenticatedRequest().post(d,{cartId:l,method:e},{headers:n})).data}catch(e){return a.setPaymentErrorMessage(e.response.data.message),null}};export{s as c};
