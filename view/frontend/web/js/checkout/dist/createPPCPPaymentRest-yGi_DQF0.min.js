import{u as e}from"./PpcpStore-DYS7Ru-W.min.js";var t=async()=>{const t=await window.geneCheckout.helpers.loadFromCheckout(["stores.useCustomerStore"]),{ppcpConfig:o}=e();return`${t.customer.tokenType===window.geneCheckout.helpers.getTokenTypes.guestUser?o.createGuestOrderUrl:o.createOrderUrl}`},o=async(e,o=null,s=0,r="")=>{console.log("api");const[a,n,c]=await window.geneCheckout.helpers.loadFromCheckout(["stores.usePaymentStore","stores.useCustomerStore","stores.useCartStore"]),u={"X-Requested-With":"XMLHttpRequest"},{maskedId:l,getMaskedId:d}=c;let i,h;if(n.customer.tokenType===window.geneCheckout.helpers.getTokenTypes.guestUser)i=l||await d();else{i=(await window.geneCheckout.services.getQuote()).id}console.log("cartId",i),h=null!==o&&0!==s?`${await t()}?vault=${o}&fromCheckout=${s}`:""!==r&&0!==s?`${await t()}?public_hash=${r}&fromCheckout=${s}`:await t(),console.log("url",h),console.log("cartId",i),console.log("method",e),console.log("headers",u);try{return(await window.geneCheckout.services.authenticatedRequest().post(h,{cartId:i,method:e},{headers:u})).data}catch(e){return a.setPaymentErrorMessage(e.response.data.message),null}};export{o as c};
