import{d as e,w as t,e as p,m as a,f as n,i as o,g as c,t as r,h as _,j as s,k as l,l as i,p as y,q as u,s as d}from"./runtime-core.esm-bundler-BiH3XK8_.min.js";
/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let m;const g=e=>m=e,h=Symbol();function f(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var v;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(v||(v={}));const b="undefined"!=typeof window,O="undefined"!=typeof __VUE_PROD_DEVTOOLS__&&__VUE_PROD_DEVTOOLS__&&b,C=()=>{};function L(e,t,p,a=C){e.push(t);const n=()=>{const p=e.indexOf(t);p>-1&&(e.splice(p,1),a())};return!p&&l()&&i(n),n}function A(e,...t){e.slice().forEach((e=>{e(...t)}))}const P=e=>e();function $(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,p)=>e.set(p,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const p in t){if(!t.hasOwnProperty(p))continue;const a=t[p],n=e[p];f(n)&&f(a)&&e.hasOwnProperty(p)&&!o(a)&&!c(a)?e[p]=$(n,a):e[p]=a}return e}const S=Symbol();const{assign:w}=Object;function x(s,l,i={},y,u,d){let m;const h=w({actions:{}},i),b={deep:!0};let x,M,j,E=[],I=[];const k=y.state.value[s];d||k||(y.state.value[s]={});const T=e({});let D;function q(e){let t;x=M=!1,"function"==typeof e?(e(y.state.value[s]),t={type:v.patchFunction,storeId:s,events:j}):($(y.state.value[s],e),t={type:v.patchObject,payload:e,storeId:s,events:j});const p=D=Symbol();_().then((()=>{D===p&&(x=!0)})),M=!0,A(E,t,y.state.value[s])}const B=d?function(){const{state:e}=i,t=e?e():{};this.$patch((e=>{w(e,t)}))}:C;function R(e,t){return function(){g(y);const p=Array.from(arguments),a=[],n=[];let o;A(I,{args:p,name:e,store:F,after:function(e){a.push(e)},onError:function(e){n.push(e)}});try{o=t.apply(this&&this.$id===s?this:F,p)}catch(e){throw A(n,e),e}return o instanceof Promise?o.then((e=>(A(a,e),e))).catch((e=>(A(n,e),Promise.reject(e)))):(A(a,o),o)}}const V=a({actions:{},getters:{},state:[],hotState:T}),z={_p:y,$id:s,$onAction:L.bind(null,I),$patch:q,$reset:B,$subscribe(e,p={}){const a=L(E,e,p.detached,(()=>n())),n=m.run((()=>t((()=>y.state.value[s]),(t=>{("sync"===p.flush?M:x)&&e({storeId:s,type:v.direct,events:j},t)}),w({},b,p))));return a},$dispose:function(){m.stop(),E=[],I=[],y._s.delete(s)}},F=p(O?w({_hmrPayload:V,_customProperties:a(new Set)},z):z);y._s.set(s,F);const N=(y._a&&y._a.runWithContext||P)((()=>y._e.run((()=>(m=n()).run(l)))));for(const e in N){const t=N[e];if(o(t)&&(!o(G=t)||!G.effect)||c(t))d||(!k||f(U=t)&&U.hasOwnProperty(S)||(o(t)?t.value=k[e]:$(t,k[e])),y.state.value[s][e]=t);else if("function"==typeof t){const p=R(e,t);N[e]=p,h.actions[e]=t}}var U,G;if(w(F,N),w(r(F),N),Object.defineProperty(F,"$state",{get:()=>y.state.value[s],set:e=>{q((t=>{w(t,e)}))}}),O){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(F,t,w({value:F[t]},e))}))}return y._p.forEach((e=>{if(O){const t=m.run((()=>e({store:F,app:y._a,pinia:y,options:h})));Object.keys(t||{}).forEach((e=>F._customProperties.add(e))),w(F,t)}else w(F,m.run((()=>e({store:F,app:y._a,pinia:y,options:h}))))})),k&&d&&i.hydrate&&i.hydrate(F.$state,k),x=!0,M=!0,F}function M(e,t){return Array.isArray(t)?t.reduce(((t,p)=>(t[p]=function(){return e(this.$pinia)[p]},t)),{}):Object.keys(t).reduce(((p,a)=>(p[a]=function(){const p=e(this.$pinia),n=t[a];return"function"==typeof n?n.call(this,p):p[n]},p)),{})}function j(e,t){return Array.isArray(t)?t.reduce(((t,p)=>(t[p]=function(...t){return e(this.$pinia)[p](...t)},t)),{}):Object.keys(t).reduce(((p,a)=>(p[a]=function(...p){return e(this.$pinia)[t[a]](...p)},p)),{})}var E=function(e,t,p){let n,o;const c="function"==typeof t;function r(e,p){const r=d();(e=e||(r?s(h,null):null))&&g(e),(e=m)._s.has(n)||(c?x(n,t,o,e):function(e,t,p){const{state:n,actions:o,getters:c}=t,r=p.state.value[e];let _;_=x(e,(function(){r||(p.state.value[e]=n?n():{});const t=y(p.state.value[e]);return w(t,o,Object.keys(c||{}).reduce(((t,n)=>(t[n]=a(u((()=>{g(p);const t=p._s.get(e);return c[n].call(t,t)}))),t)),{}))}),t,p,0,!0)}(n,o,e));return e._s.get(n)}return"string"==typeof e?(n=e,o=c?p:t):(o=e,n=e.id),r.$id=n,r}("ppcpStore",{state:()=>({cache:{},environment:"sandbox",isPPCPenabled:!1,sandboxClientId:"",productionClientId:"",buyerCountry:"",errorMessage:null,apple:{merchantName:"",enabled:!1,paymentAction:"",sortOrder:null,title:""},venmo:{vaultActive:!1,enabled:!1,paymentAction:"",sortOrder:null,title:""},apm:{enabled:!1,title:"",sortOrder:null,allowedPayments:[]},google:{buttonColor:"white",enabled:!1,paymentAction:"",sortOrder:null,title:""},paypal:{enabled:!1,vaultActive:!1,title:"",paymentAction:"",requireBillingAddress:!1,sortOrder:null,buttonLabel:"",buttonColor:"gold",buttonShape:"",payLaterActive:!1,payLaterButtonColour:"black",payLaterButtonShape:"",payLaterMessageActive:!1,payLaterMessageLayout:"",payLaterMessageLogoType:"",payLaterMessageLogoPosition:"",payLaterMessageColour:"",payLaterMessageTextSize:"",payLaterMessageTextAlign:""},card:{enabled:!1,vaultActive:!1,title:"",paymentAction:"",threeDSecureStatus:"",sortOrder:null}}),actions:{setData(e){this.$patch(e)},async getInitialConfigValues(){const e=await window.geneCheckout.helpers.loadFromCheckout(["services.graphQlRequest"]);await this.getCachedResponse((async()=>e("{\n        storeConfig {\n          ppcp_environment\n          ppcp_active\n          ppcp_sandbox_client_id\n          ppcp_client_id_production\n          ppcp_buyer_country\n          \n          ppcp_googlepay_active\n          ppcp_googlepay_title\n          ppcp_googlepay_payment_action\n          ppcp_googlepay_button_colour\n          ppcp_googlepay_sort_order\n          \n          ppcp_applepay_active\n          ppcp_applepay_title\n          ppcp_applepay_payment_action\n          ppcp_applepay_merchant_name\n          ppcp_applepay_sort_order\n    \n          ppcp_paypal_active\n          ppcp_paypal_vault_active\n          ppcp_paypal_title\n          ppcp_paypal_payment_action\n          ppcp_paypal_require_billing_address\n          ppcp_paypal_sort_order\n          ppcp_paypal_button_paypal_label\n          ppcp_paypal_button_paypal_color\n          ppcp_paypal_button_paypal_shape\n          ppcp_paypal_paylater_enable_paylater\n          ppcp_paypal_paylater_button_paylater_color\n          ppcp_paypal_paylater_button_paylater_shape\n          ppcp_paypal_paylater_message_enable\n          ppcp_paypal_paylater_message_layout\n          ppcp_paypal_paylater_message_logo_type\n          ppcp_paypal_paylater_message_logo_position\n          ppcp_paypal_paylater_message_text_color\n          ppcp_paypal_paylater_message_text_size\n          ppcp_paypal_paylater_message_text_align\n\n          ppcp_venmo_active\n          ppcp_venmo_title\n          ppcp_venmo_payment_action\n          ppcp_venmo_vault_active\n          ppcp_venmo_sort_order\n          \n          ppcp_apm_active\n          ppcp_apm_title\n          ppcp_apm_allowed_methods\n          ppcp_apm_sort_order\n          \n          ppcp_card_active\n          ppcp_card_vault_active\n          ppcp_card_title\n          ppcp_card_payment_action\n          ppcp_card_three_d_secure\n          ppcp_card_sort_order\n        }\n      }").then(this.handleInitialConfig)),"getInitialConfig")},async handleInitialConfig(e){if(e?.data?.storeConfig){const t=e.data.storeConfig;this.setData({environment:t.ppcp_environment,isPPCPenabled:t.ppcp_active,sandboxClientId:t.ppcp_sandbox_client_id,productionClientId:t.ppcp_client_id_production,buyerCountry:t.ppcp_buyer_country,card:{enabled:t.ppcp_card_active,vaultActive:t.ppcp_card_vault_active,title:t.ppcp_card_title,paymentAction:t.ppcp_card_payment_action,threeDSecureStatus:t.ppcp_card_three_d_secure,sortOrder:t.ppcp_card_sort_order},google:{buttonColor:t.ppcp_googlepay_button_colour,enabled:t.ppcp_googlepay_active,paymentAction:t.ppcp_googlepay_payment_action,sortOrder:t.ppcp_googlepay_sort_order,title:t.ppcp_googlepay_title},apple:{merchantName:t.ppcp_applepay_merchant_name,enabled:t.ppcp_applepay_active,paymentAction:t.ppcp_applepay_payment_action,sortOrder:t.ppcp_applepay_sort_order,title:t.ppcp_applepay_title},venmo:{vaultActive:t.ppcp_venmo_payment_action,enabled:t.ppcp_venmo_active,paymentAction:t.ppcp_venmo_payment_action,sortOrder:t.ppcp_venmo_sort_order,title:t.ppcp_venmo_title},apm:{enabled:t.ppcp_apm_active,title:t.ppcp_apm_title,sortOrder:t.ppcp_apm_sort_order,allowedPayments:t.ppcp_apm_allowed_methods},paypal:{enabled:t.ppcp_paypal_active,vaultActive:t.ppcp_paypal_vault_active,title:t.ppcp_paypal_title,paymentAction:t.ppcp_paypal_payment_action,requireBillingAddress:t.ppcp_paypal_require_billing_address,sortOrder:t.ppcp_paypal_sort_order,buttonLabel:t.ppcp_paypal_button_paypal_label,buttonColor:t.ppcp_paypal_button_paypal_color,buttonShape:t.ppcp_paypal_button_paypal_shape,payLaterActive:t.ppcp_paypal_paylater_enable_paylater,payLaterButtonColour:t.ppcp_paypal_paylater_button_paylater_color,payLaterButtonShape:t.ppcp_paypal_paylater_button_paylater_shape,payLaterMessageActive:t.ppcp_paypal_paylater_message_enable,payLaterMessageLayout:t.ppcp_paypal_paylater_message_layout,payLaterMessageLogoType:t.ppcp_paypal_paylater_message_logo_type,payLaterMessageLogoPosition:t.ppcp_paypal_paylater_message_logo_position,payLaterMessageColour:t.ppcp_paypal_paylater_message_text_color,payLaterMessageTextSize:t.ppcp_paypal_paylater_message_text_size,payLaterMessageTextAlign:t.ppcp_paypal_paylater_message_text_align}})}},getCachedResponse(e,t,p={}){if(void 0!==this.$state.cache[t])return this.$state.cache[t];const a=e(p);return this.$patch({cache:{[t]:a}}),a},clearCache(e){e&&this.setData({cache:{[e]:void 0}})}}});function I(){const e=new Map;return async function(t,p,a="paypal",n="checkout",o=""){if(p){const e=new URLSearchParams(p).toString();t=`${t}?${e}`}const c=((e,t,p="")=>`${e}${t}${p}`)(t,a,o);if(e.has(c))return e.get(c);const r=new Promise(((p,r)=>{const _=document.createElement("script");_.src=t,_.dataset.namespace=`paypal_${a}`,_.dataset.partnerAttributionId="GENE_PPCP",_.dataset.pageType=n,o&&(_.dataset.userIdToken=o),_.onload=()=>{const e=new CustomEvent("ppcpScriptLoaded",{detail:a});document.dispatchEvent(e),p()},_.onerror=()=>{e.delete(c),r(new Error(`Failed to load script: ${t}`))},document.head.appendChild(_)}));return e.set(c,r),r}}export{j as a,I as l,M as m,E as u};
