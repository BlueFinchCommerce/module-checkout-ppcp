function t(){const t=new Map;return async function(e,n,a="paypal",o="checkout",r=""){if(n){const t=new URLSearchParams(n).toString();e=`${e}?${t}`}const c=((t,e,n="")=>`${t}${e}${n}`)(e,a,r);if(t.has(c))return t.get(c);const s=new Promise(((n,s)=>{const d=document.createElement("script");d.src=e,d.dataset.namespace=`paypal_${a}`,d.dataset.partnerAttributionId="GENE_PPCP",d.dataset.pageType=o,r&&(d.dataset.userIdToken=r),d.onload=()=>{const t=new CustomEvent("ppcpScriptLoaded",{detail:a});document.dispatchEvent(t),n()},d.onerror=()=>{t.delete(c),s(new Error(`Failed to load script: ${e}`))},document.head.appendChild(d)}));return t.set(c,s),s}}export{t as l};
