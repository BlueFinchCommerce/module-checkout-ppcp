import{u as e}from"./PpcpStore-B-COd6Yi.min.js";var t=async()=>{const t=await window.geneCheckout.helpers.loadFromCheckout(["stores.useCustomerStore"]),{ppcpConfig:s}=e();return`${t.customer.tokenType===window.geneCheckout.helpers.getTokenTypes.guestUser?s.createGuestOrderUrl:s.createOrderUrl}`},s=async(e,s=null,r=0,o="")=>{const[a,u,n]=await window.geneCheckout.helpers.loadFromCheckout(["stores.usePaymentStore","stores.useCustomerStore","stores.useCartStore"]),c={"X-Requested-With":"XMLHttpRequest"},{maskedId:i,getMaskedId:d}=n;let h,w;if(u.customer.tokenType===window.geneCheckout.helpers.getTokenTypes.guestUser)h=i||await d();else{h=(await window.geneCheckout.services.getQuote()).id}w=null!==s&&0!==r?`${await t()}?vault=${s}&fromCheckout=${r}`:""!==o&&0!==r?`${await t()}?public_hash=${o}&fromCheckout=${r}`:await t();try{return(await window.geneCheckout.services.authenticatedRequest().post(w,{cartId:h,method:e},{headers:c})).data}catch(e){return a.setPaymentErrorMessage(e.response.data.message),null}};export{s as c};
