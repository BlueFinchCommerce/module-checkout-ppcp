import{u as e}from"./addScript-Pdb9JQSv.min.js";var t=async()=>{const t=await window.geneCheckout.helpers.loadFromCheckout(["stores.useCustomerStore"]),{ppcpConfig:s}=e();return`${t.customer.tokenType===window.geneCheckout.helpers.getTokenTypes.guestUser?s.createGuestOrderUrl:s.createOrderUrl}`},s=async(e,s=!1,r=0)=>{const[o,a,n]=await window.geneCheckout.helpers.loadFromCheckout(["stores.usePaymentStore","stores.useCustomerStore","stores.useCartStore"]),u={"X-Requested-With":"XMLHttpRequest"},{maskedId:c,getMaskedId:d}=n;let i;if(a.customer.tokenType===window.geneCheckout.helpers.getTokenTypes.guestUser)i=c||await d();else{i=(await window.geneCheckout.services.getQuote()).id}const w=s&&0!==r?`${await t()}?vault=${s}&fromCheckout=1`:await t();try{return(await window.geneCheckout.services.authenticatedRequest().post(w,{cartId:i,method:e},{headers:u})).data}catch(e){return o.setPaymentErrorMessage(e.response.data.message),null}};export{s as c};
